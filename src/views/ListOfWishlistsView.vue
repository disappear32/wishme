<template>
    <ListContainer :list="listArray" />
</template>

<script lang="ts">
import ListContainer from '../components/ListContainer.vue'
import { useWebApp } from '../stores/webapp'

export default {
    data() {
        return {
            listArray: [
                { name: 'üéÅ –î–µ–Ω—å –†–æ–∂–¥–µ–Ω–∏—è', description: '6 –ø–æ–¥–∞—Ä–∫–æ–≤', date: this.createDateString() },
                { name: '8 –º–∞—Ä—Ç–∞', description: '0 –ø–æ–¥–∞—Ä–∫–æ–≤', date: this.createDateString() },
                { name: '23 —Ñ–µ–≤—Ä–∞–ª—è', description: '15 –ø–æ–¥–∞—Ä–∫–æ–≤', date: this.createDateString() },
                { name: '23 —Ñ–µ–≤—Ä–∞–ª—è', description: '15 –ø–æ–¥–∞—Ä–∫–æ–≤', date: this.createDateString() },
                { name: '23 —Ñ–µ–≤—Ä–∞–ª—è', description: '15 –ø–æ–¥–∞—Ä–∫–æ–≤', date: this.createDateString() },
                { name: '23 —Ñ–µ–≤—Ä–∞–ª—è', description: '15 –ø–æ–¥–∞—Ä–∫–æ–≤', date: this.createDateString() },
                { name: '23 —Ñ–µ–≤—Ä–∞–ª—è', description: '15 –ø–æ–¥–∞—Ä–∫–æ–≤', date: this.createDateString() },
                { name: '14 —Ñ–µ–≤—Ä–∞–ª—è', description: '15 –ø–æ–¥–∞—Ä–∫–æ–≤', date: this.createDateString() },
            ]
        }
    },
    components: { ListContainer },
    methods: {
        createDateString() {
            //console.log(ts)

            return '20 –Ω–æ—è–±—Ä—è '
        },
        onMainButtonClick() {
            this.$router.push({ name: 'add-wishlist' })
            console.log('–î–æ–±–∞–≤–∏—Ç—å –≤–∏—à–ª–∏—Å—Ç')
        }
    },
    mounted() {
        useWebApp().showBack()
        useWebApp().showMainButton('–î–æ–±–∞–≤–∏—Ç—å –≤–∏—à–ª–∏—Å—Ç', this.onMainButtonClick)
    },
    unmounted() {
        useWebApp().offMainButtonEventListener(this.onMainButtonClick)
        useWebApp().hideMainButton()
    },
    beforeRouteLeave(to, from) {
        useWebApp().offMainButtonEventListener(this.onMainButtonClick)

        if (to.path < from.path) useWebApp().hideMainButton()
    },
}
</script>

<style scoped></style>